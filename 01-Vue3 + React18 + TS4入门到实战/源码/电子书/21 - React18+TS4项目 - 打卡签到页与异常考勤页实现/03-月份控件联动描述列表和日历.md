# 月份控件联动描述列表和日历

## 日历月份切换

首先完成自定义头部的月份切换操作。

```tsx
// /views/Sign/Sign.tsx
export default function Sign() {
    ...
    return (
        <Calendar
            dateCellRender={dateCellRender}
            locale={locale}
            headerRender={({ value, type, onChange, onTypeChange }) => {
                const monthOptions = []
                for (let i = 0; i < 12; i++) {
                    monthOptions.push(
                        <Select.Option key={i} value={i}>
                            {i + 1}月
                        </Select.Option>
                    )
                }
                return (
                    <Row
                        className={styles['calendar-header']}
                        justify="space-between"
                        align="middle"
                        >
                        <Button type="primary" onClick={handlePutTime}>
                            在线签到
                        </Button>
                        <Space>
                            <Button>{value.year()}年</Button>
                            <Select
                                value={month}
                                onChange={(newMonth) => {
                                    setMonth(newMonth)
                                    onChange(value.clone().month(newMonth))
                                }}
                                >
                                {monthOptions}
                            </Select>
                        </Space>
                    </Row>
                )
            }}
            />
    )
}
```

## 描述列表数据渲染

主要就是定义头部文本的内容和类型以及渲染文本。

```tsx
// /views/Sign/Sign.tsx
enum DetailKey {
  normal = '正常出勤',
  absent = '旷工',
  miss = '漏打卡',
  late = '迟到',
  early = '早退',
  lateAndEarly = '迟到并早退',
}
const originDetailValue: Record<keyof typeof DetailKey, number> = {
  normal: 0,
  absent: 0,
  miss: 0,
  late: 0,
  early: 0,
  lateAndEarly: 0,
}
const originDetailState = {
  type: 'success' as 'success' | 'error',
  text: '正常' as '正常' | '异常',
}
export default function Sign() {
    ...
    return (
        <Descriptions
            className={styles.descriptions}
            layout="vertical"
            column={9}
            bordered
            >
            <Descriptions.Item label="月份">{month + 1}月</Descriptions.Item>
            {Object.entries(DetailKey).map((v) => (
                <Descriptions.Item key={v[0]} label={v[1]}>
                    {detailValue[v[0] as keyof typeof DetailKey]}
                </Descriptions.Item>
            ))}
            <Descriptions.Item label="操作">
                <Button type="primary" onClick={handleToException} ghost size="small">
                    查看详情
                </Button>
            </Descriptions.Item>
            <Descriptions.Item label="考勤状态">
                <Tag color={detailState.type}>{detailState.text}</Tag>
            </Descriptions.Item>
        </Descriptions>
    )
}
```
